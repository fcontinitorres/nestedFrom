
<%= simple_form_for(@project, html: { id: :new_project }) do |project| %>
  <%= project.error_notification %>
  <%= project.error_notification message: project.object.errors[:base].to_sentence if project.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= project.input :name %>
    <%= project.input :number %>
  </div>

  <h3>Tasks</h3>

  <!-- <table class='table'>
    <thead>
      <tr>
        <th></th>
        <th>Task Name</th>
        <th>Number</th>
        <th>Completed</th>
      </tr>
    </thead>
    <tbody class='fields'>
       f.simple_fields_for :tasks do |builder| %>
         render 'task', f: builder %> 
       end %>
    </tbody>
  </table> -->

  <div class="fields">
	  <%= simple_fields_for :tasks do |builder| %>
	  	<!--  render 'task', f:builder %> -->
	  <% end %>
  </div>

  <div class="form-actions">
  	<%= link_to_add_task('Add Task', project, :tasks, class: 'btn btn-primary') %>
    <%= project.button :submit %>
  </div>


	<div class="" tabindex="-1" role="dialog">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title">New Task</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	        <%= project.simple_fields_for :tasks do |task| %>
	        	<%= task.input :name %>
	        	<%= task.input :number%>
	        	<%= task.input :completed %>
	        <% end %>
	      </div>
	      <div class="modal-footer">
	        <!-- <button type="button" class="btn btn-primary">Save changes</button>
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
	        	<button>Add</button>
	      </div>
	    </div>
	  </div>
	</div>

<% end %>